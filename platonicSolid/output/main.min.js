!function(){"use strict";class t{constructor(t,i,s){null==t?(this.x=0,this.y=0,this.z=0):"object"==typeof t?3==t.length?(this.x=t[0],this.y=t[1],this.z=t[2]):(this.x=t.x,this.y=t.y,this.z=t.z):null==i||null==s?(this.x=t,this.y=t,this.z=t):(this.x=t,this.y=i,this.z=s)}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}cross(t){return i(this.y*t.z-this.z*t.y,this.z*t.x-this.x*t.z,this.x*t.y-this.y*t.x)}add(t){return"number"==typeof t?i(this.x+t,this.y+t,this.z+t):i(this.x+t.x,this.y+t.y,this.z+t.z)}sub(t){return"number"==typeof t?i(this.x-x,this.y-y,this.z-z):i(this.x-t.x,this.y-t.y,this.z-t.z)}mulNum(t){return i(this.x*t,this.y*t,this.z*t)}divNum(t){return i(this.x/t,this.y/t,this.z/t)}normalize(){let t=this.x*this.x+this.y*this.y+this.z*this.z;return 1!=t||0!=t?(t=Math.sqrt(t),i(this.x/t,this.y/t,this.z/t)):i(this)}toArray(){return[this.x,this.y,this.z]}neg(){return i(-this.x,-this.y,-this.z)}pointTransform(t){return i(this.x*t.m[0][0]+this.y*t.m[1][0]+this.z*t.m[2][0]+t.m[3][0],this.x*t.m[0][1]+this.y*t.m[1][1]+this.z*t.m[2][1]+t.m[3][1],this.x*t.m[0][2]+this.y*t.m[1][2]+this.z*t.m[2][2]+t.m[3][2])}vectorTransform(t){return i(this.x*t.m[0][0]+this.y*t.m[1][0]+this.z*t.m[2][0],this.x*t.m[0][1]+this.y*t.m[1][1]+this.z*t.m[2][1],this.x*t.m[0][2]+this.y*t.m[1][2]+this.z*t.m[2][2])}}function i(...i){return new t(...i)}class s{constructor(t){this.m=null==t?[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]]:t.m}ortho(t,i,s,h,e,m){return this.m=[[2/(i-t),0,0,0],[0,2/(h-s),0,0],[0,0,-2/(m-e),0],[-(i+t)/(i-t),-(h+s)/(h-s),-(m+e)/(m-e),1]],this}frustum(t,i,s,h,e,m){return this.m=[[2*e/(i-t),0,0,0],[0,2*e/(h-s),0,0],[(i+t)/(i-t),(h+s)/(h-s),-(m+e)/(m-e),-1],[0,0,-2*e*m/(m-e),0]],this}view(t,s,h){let e=i(),m=i(),r=i();return e=s.sub(t).normalize(),m=e.cross(h).normalize(),r=m.cross(e).normalize(),this.m=[[m.x,r.x,-e.x,0],[m.y,r.y,-e.y,0],[m.z,r.z,-e.z,0],[-t.dot(m),-t.dot(r),t.dot(e),1]],this}mul(t){let i=new h;return i.m[0][0]=this.m[0][0]*t.m[0][0]+this.m[0][1]*t.m[1][0]+this.m[0][2]*t.m[2][0]+this.m[0][3]*t.m[3][0],i.m[0][1]=this.m[0][0]*t.m[0][1]+this.m[0][1]*t.m[1][1]+this.m[0][2]*t.m[2][1]+this.m[0][3]*t.m[3][1],i.m[0][2]=this.m[0][0]*t.m[0][2]+this.m[0][1]*t.m[1][2]+this.m[0][2]*t.m[2][2]+this.m[0][3]*t.m[3][2],i.m[0][3]=this.m[0][0]*t.m[0][3]+this.m[0][1]*t.m[1][3]+this.m[0][2]*t.m[2][3]+this.m[0][3]*t.m[3][3],i.m[1][0]=this.m[1][0]*t.m[0][0]+this.m[1][1]*t.m[1][0]+this.m[1][2]*t.m[2][0]+this.m[1][3]*t.m[3][0],i.m[1][1]=this.m[1][0]*t.m[0][1]+this.m[1][1]*t.m[1][1]+this.m[1][2]*t.m[2][1]+this.m[1][3]*t.m[3][1],i.m[1][2]=this.m[1][0]*t.m[0][2]+this.m[1][1]*t.m[1][2]+this.m[1][2]*t.m[2][2]+this.m[1][3]*t.m[3][2],i.m[1][3]=this.m[1][0]*t.m[0][3]+this.m[1][1]*t.m[1][3]+this.m[1][2]*t.m[2][3]+this.m[1][3]*t.m[3][3],i.m[2][0]=this.m[2][0]*t.m[0][0]+this.m[2][1]*t.m[1][0]+this.m[2][2]*t.m[2][0]+this.m[2][3]*t.m[3][0],i.m[2][1]=this.m[2][0]*t.m[0][1]+this.m[2][1]*t.m[1][1]+this.m[2][2]*t.m[2][1]+this.m[2][3]*t.m[3][1],i.m[2][2]=this.m[2][0]*t.m[0][2]+this.m[2][1]*t.m[1][2]+this.m[2][2]*t.m[2][2]+this.m[2][3]*t.m[3][2],i.m[2][3]=this.m[2][0]*t.m[0][3]+this.m[2][1]*t.m[1][3]+this.m[2][2]*t.m[2][3]+this.m[2][3]*t.m[3][3],i.m[3][0]=this.m[3][0]*t.m[0][0]+this.m[3][1]*t.m[1][0]+this.m[3][2]*t.m[2][0]+this.m[3][3]*t.m[3][0],i.m[3][1]=this.m[3][0]*t.m[0][1]+this.m[3][1]*t.m[1][1]+this.m[3][2]*t.m[2][1]+this.m[3][3]*t.m[3][1],i.m[3][2]=this.m[3][0]*t.m[0][2]+this.m[3][1]*t.m[1][2]+this.m[3][2]*t.m[2][2]+this.m[3][3]*t.m[3][2],i.m[3][3]=this.m[3][0]*t.m[0][3]+this.m[3][1]*t.m[1][3]+this.m[3][2]*t.m[2][3]+this.m[3][3]*t.m[3][3],i}transpose(){return this.m=[[this.m[0][0],this.m[1][0],this.m[2][0],this.m[3][0]],[this.m[0][1],this.m[1][1],this.m[2][1],this.m[3][1]],[this.m[0][2],this.m[1][2],this.m[2][2],this.m[3][2]],[this.m[0][3],this.m[1][3],this.m[2][3],this.m[3][3]]],this}translate(t){return"object"==typeof t&&(this.m=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[t.x,t.y,t.z,1]]),this}scale(t){return"object"==typeof t&&(this.m=[[t.x,0,0,0],[0,t.y,0,0],[0,0,t.z,0],[0,0,0,1]]),this}rotateX(t){if("number"==typeof t){let i=t*(Math.PI/180);this.m=[[Math.cos(i),Math.sin(i),0,0],[-Math.sin(i),Math.cos(i),0,0],[0,0,1,0],[0,0,0,1]]}return this}rotateY(t){if("number"==typeof t){let i=t*(Math.PI/180);this.m=[[1,0,0,0],[0,Math.cos(i),Math.sin(i),0],[0,-Math.sin(i),Math.cos(i),0],[0,0,0,1]]}return this}rotateZ(t){if("number"==typeof t){let i=t*(Math.PI/180);this.m=[[Math.cos(i),0,-Math.sin(i),0],[0,1,0,0],[Math.sin(i),0,Math.cos(i),0],[0,0,0,1]]}return this}rotate(t,i){if("object"==typeof i&&"number"==typeof t){let s=t*(Math.PI/180),h=Math.sin(s),e=Math.cos(s),m=i.normalize();this.m=[[e+m.x*m.x*(1-e),m.x*m.y*(1-e)+m.z*h,m.x*m.z*(1-e)-m.y*h,0],[m.y*m.x*(1-e)-m.z*h,e+m.y*m.y*(1-e),m.y*m.z*(1-e)+m.y*h,0],[m.z*m.x*(1-e)+m.y*h,m.z*m.y*(1-e)-m.x*h,e+m.z*m.z*(1-e),0],[0,0,0,1]]}return this}toArray(){return[].concat(...this.m)}determ3x3(t,i,s,h,e,m,r,a,n){return t*e*n+i*m*r+s*h*a-t*m*a-i*h*n-s*e*r}determ(){return+this.m[0][0]*this.determ3x3(this.m[1][1],this.m[1][2],this.m[1][3],this.m[2][1],this.m[2][2],this.m[2][3],this.m[3][1],this.m[3][2],this.m[3][3])+-this.m[0][1]*this.determ3x3(this.m[1][0],this.m[1][2],this.m[1][3],this.m[2][0],this.m[2][2],this.m[2][3],this.m[3][0],this.m[3][2],this.m[3][3])+ +this.m[0][2]*this.determ3x3(this.m[1][0],this.m[1][1],this.m[1][3],this.m[2][0],this.m[2][1],this.m[2][3],this.m[3][0],this.m[3][1],this.m[3][3])+-this.m[0][3]*this.determ3x3(this.m[1][0],this.m[1][1],this.m[1][2],this.m[2][0],this.m[2][1],this.m[2][2],this.m[3][0],this.m[3][1],this.m[3][2])}inverse(){let t=this.determ(),i=new h;return 0==t?this:(i.m[0][0]=+this.determ3x3(this.m[1][1],this.m[1][2],this.m[1][3],this.m[2][1],this.m[2][2],this.m[2][3],this.m[3][1],this.m[3][2],this.m[3][3])/t,i.m[1][0]=-this.determ3x3(this.m[1][0],this.m[1][2],this.m[1][3],this.m[2][0],this.m[2][2],this.m[2][3],this.m[3][0],this.m[3][2],this.m[3][3])/t,i.m[2][0]=+this.determ3x3(this.m[1][0],this.m[1][1],this.m[1][3],this.m[2][0],this.m[2][1],this.m[2][3],this.m[3][0],this.m[3][1],this.m[3][3])/t,i.m[3][0]=-this.determ3x3(this.m[1][0],this.m[1][1],this.m[1][2],this.m[2][0],this.m[2][1],this.m[2][2],this.m[3][0],this.m[3][1],this.m[3][2])/t,i.m[0][1]=-this.determ3x3(this.m[0][1],this.m[0][2],this.m[0][3],this.m[2][1],this.m[2][2],this.m[2][3],this.m[3][1],this.m[3][2],this.m[3][3])/t,i.m[1][1]=+this.determ3x3(this.m[0][0],this.m[0][2],this.m[0][3],this.m[2][0],this.m[2][2],this.m[2][3],this.m[3][0],this.m[3][2],this.m[3][3])/t,i.m[2][1]=-this.determ3x3(this.m[0][0],this.m[0][1],this.m[0][3],this.m[2][0],this.m[2][1],this.m[2][3],this.m[3][0],this.m[3][1],this.m[3][3])/t,i.m[3][1]=+this.determ3x3(this.m[0][0],this.m[0][1],this.m[0][2],this.m[2][0],this.m[2][1],this.m[2][2],this.m[3][0],this.m[3][1],this.m[3][2])/t,i.m[0][2]=+this.determ3x3(this.m[0][1],this.m[0][2],this.m[0][3],this.m[1][1],this.m[1][2],this.m[1][3],this.m[3][1],this.m[3][2],this.m[3][3])/t,i.m[1][2]=-this.determ3x3(this.m[0][0],this.m[0][2],this.m[0][3],this.m[1][0],this.m[1][2],this.m[1][3],this.m[3][0],this.m[3][2],this.m[3][3])/t,i.m[2][2]=+this.determ3x3(this.m[0][0],this.m[0][1],this.m[0][3],this.m[1][0],this.m[1][1],this.m[1][3],this.m[3][0],this.m[3][1],this.m[3][3])/t,i.m[3][2]=-this.determ3x3(this.m[0][0],this.m[0][1],this.m[0][2],this.m[1][0],this.m[1][1],this.m[1][2],this.m[3][0],this.m[3][1],this.m[3][2])/t,i.m[0][3]=-this.determ3x3(this.m[0][1],this.m[0][2],this.m[0][3],this.m[1][1],this.m[1][2],this.m[1][3],this.m[2][1],this.m[2][2],this.m[2][3])/t,i.m[1][3]=+this.determ3x3(this.m[0][0],this.m[0][2],this.m[0][3],this.m[1][0],this.m[1][2],this.m[1][3],this.m[2][0],this.m[2][2],this.m[2][3])/t,i.m[2][3]=-this.determ3x3(this.m[0][0],this.m[0][1],this.m[0][3],this.m[1][0],this.m[1][1],this.m[1][3],this.m[2][0],this.m[2][1],this.m[2][3])/t,i.m[3][3]=+this.determ3x3(this.m[0][0],this.m[0][1],this.m[0][2],this.m[1][0],this.m[1][1],this.m[1][2],this.m[2][0],this.m[2][1],this.m[2][2])/t,i)}}function h(...t){return new s(...t)}class e{constructor(t,i){this.pos=t,this.norm=i}}function m(...t){return new e(...t)}class r{constructor(t,i,s,h){this.rnd=t;let e=[],m=0;null!=h&&this.autoNormals(s,h);for(let t of s)e[m++]=t.pos.x,e[m++]=t.pos.y,e[m++]=t.pos.z,e[m++]=t.norm.x,e[m++]=t.norm.y,e[m++]=t.norm.z;this.va=this.rnd.gl.createVertexArray(),this.rnd.gl.bindVertexArray(this.va),this.vbuf=this.rnd.gl.createBuffer(),this.rnd.gl.bindBuffer(this.rnd.gl.ARRAY_BUFFER,this.vbuf),this.rnd.gl.bufferData(this.rnd.gl.ARRAY_BUFFER,new Float32Array(e),this.rnd.gl.STATIC_DRAW),this.rnd.gl.vertexAttribPointer(0,3,this.rnd.gl.FLOAT,!1,24,0),this.rnd.gl.enableVertexAttribArray(0),this.rnd.gl.vertexAttribPointer(1,3,this.rnd.gl.FLOAT,!1,24,12),this.rnd.gl.enableVertexAttribArray(1),null!=h&&0!=h.length?(this.ibuf=this.rnd.gl.createBuffer(),this.rnd.gl.bindBuffer(this.rnd.gl.ELEMENT_ARRAY_BUFFER,this.ibuf),this.rnd.gl.bufferData(this.rnd.gl.ELEMENT_ARRAY_BUFFER,new Uint16Array(h),this.rnd.gl.STATIC_DRAW),this.numOfElements=h.length):this.numOfElements=s.length,this.type=i}draw(t){null==t&&(t=new h);let i,s=t,e=s.transpose(s.inverse()),m=s.mul(this.rnd.camera.matVP);e=e.transpose(),null!=this.rnd.shader.id&&(this.rnd.shader.apply(),-1!=(i=this.rnd.gl.getUniformLocation(this.rnd.shader.id,"MatrWVP"))&&this.rnd.gl.uniformMatrix4fv(i,!1,new Float32Array(m.toArray())),-1!=(i=this.rnd.gl.getUniformLocation(this.rnd.shader.id,"MatrW"))&&this.rnd.gl.uniformMatrix4fv(i,!1,new Float32Array(s.toArray())),-1!=(i=this.rnd.gl.getUniformLocation(this.rnd.shader.id,"MatrWInv"))&&this.rnd.gl.uniformMatrix4fv(i,!1,new Float32Array(e.toArray())),-1!=(i=this.rnd.gl.getUniformLocation(this.rnd.shader.id,"Time"))&&this.rnd.gl.uniform1f(i,this.rnd.timer.globalTime),this.rnd.gl.bindBuffer(this.rnd.gl.ELEMENT_ARRAY_BUFFER,this.ibuf),this.rnd.gl.drawElements(this.type,this.numOfElements,this.rnd.gl.UNSIGNED_SHORT,0))}free(){null!=this.va&&(this.rnd.gl.bindVertexArray(this.va),this.rnd.gl.bindBuffer(this.rnd.gl.ARRAY_BUFFER,this.vbuf),this.rnd.gl.deleteBuffer(1,this.vbuf),this.rnd.gl.deleteVertexArray(1,this.va)),null!=this.ibuf&&this.rnd.gl.deleteBuffer(1,this.ibuf)}autoNormals(t,s){for(let s=0;s<t.length;s++)t[s].norm=i(0,0,0);for(let i=0;i<s.length;i+=3){let h=s[i],e=s[i+1],m=s[i+2],r=t[h].pos,a=t[e].pos,n=t[m].pos,d=a.sub(r),o=n.sub(r),l=d.cross(o).normalize();t[h].norm=t[h].norm.add(l),t[e].norm=t[e].norm.add(l),t[m].norm=t[m].norm.add(l)}for(let i=0;i<t.length;i++)t[i].n=t[i].norm.normalize()}}function a(...t){return new r(...t)}class n{constructor(){this.loc=i(),this.at=i(),this.dir=i(),this.right=i(),this.up=i(),this.matView=h(),this.matProj=h(),this.matVP=h(),this.frameW=0,this.frameH=0,this.wp=0,this.hp=0,this.projSize=0,this.projDist=0,this.projFarClip=0}set(t,s,h){this.matView=this.matView.view(t,s,h),this.right=i(this.matView.m[0][0],this.matView.m[1][0],this.matView.m[2][0]),this.up=i(this.matView.m[0][1],this.matView.m[1][1],this.matView.m[2][1]),this.dir=i(-this.matView.m[0][2],-this.matView.m[1][2],-this.matView.m[2][2]),this.loc=t,this.at=s}setProj(t,i,s){let h,e;this.projDist=i,this.projFarClip=s,h=e=t,this.projSize=t,this.frameW>=this.frameH?h*=this.frameW/this.frameH:e*=this.frameH/this.frameW,this.wp=h,this.hp=e,this.matProj=this.matProj.frustum(-h/2,h/2,-e/2,e/2,this.projDist,this.projFarClip),this.matVP=this.matView.mul(this.matProj)}setSize(t,i){this.frameW=t,this.frameH=i,this.setProj(this.projSize,this.projDist,this.projFarClip)}}class d{constructor(t){this.canvas=t,this.gl=t.getContext("webgl2"),this.initGL(),this.timer=new l,this.camera=function(...t){return new n(...t)}(),this.camera.frameH=t.height,this.camera.frameW=t.width,this.camera.projSize=.1,this.camera.projSize=.1,this.camera.projFarClip=1e3,this.loc=i(1.5),this.camera.set(this.loc,i(0),i(0,1,0)),this.camera.setProj(this.camera.projSize,this.camera.projSize,this.camera.projFarClip)}initGL(){this.gl.enable(this.gl.DEPTH_TEST),this.gl.blendFunc(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA),this.gl.clearColor(.3,.47,.8,1)}inputResponse(t){}render(){this.camera.set(this.loc,i(0),i(0,1,0)),this.camera.setProj(this.camera.projSize,this.camera.projSize,this.camera.projFarClip),this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT),this.gl.clearDepth(1)}primCreate(...t){return a(this,...t)}shaderCreate(...t){return function(...t){return new u(...t)}(this,...t)}primCreateTetrahedron(){return new f(this).makePrim(h())}primCreateCube(){return new p(this).makePrim(h())}primCreateOctahedron(){return new T(this).makePrim(h())}primCreateDodecahedron(){return new w(this).makePrim(h())}primCreateIcosahedron(){return new b(this).makePrim(h())}}function o(...t){return new d(...t)}function l(){const t=()=>{const t=new Date;return t.getMilliseconds()/1e3+t.getSeconds()+60*t.getMinutes()};return this.response=(i=null)=>{let s=t();this.globalTime=s,this.globalDeltaTime=s-this.oldTime,this.isPause?(this.localDeltaTime=0,this.pauseTime+=s-this.oldTime):(this.localDeltaTime=this.globalDeltaTime,this.localTime=s-this.pauseTime-this.startTime),this.frameCounter++,s-this.oldTimeFPS>3&&(this.FPS=this.frameCounter/(s-this.oldTimeFPS),this.oldTimeFPS=s,this.frameCounter=0,null!=i&&(document.getElementById(i).innerHTML=this.getFPS())),this.oldTime=s},this.getFPS=()=>this.FPS.toFixed(3),this.globalTime=this.localTime=t(),this.globalDeltaTime=this.localDeltaTime=0,this.startTime=this.oldTime=this.oldTimeFPS=this.globalTime,this.frameCounter=0,this.isPause=!1,this.FPS=30,this.pauseTime=0,this}class u{async _init(t,i){this.rnd=t,this.name=i,this.id=null,this.shaders=[{id:null,type:this.rnd.gl.VERTEX_SHADER,name:"vert",src:""},{id:null,type:this.rnd.gl.FRAGMENT_SHADER,name:"frag",src:""}];for(const t of this.shaders){let s=await fetch(`bin/shaders/${i}/${t.name}.glsl`),h=await s.text();"string"==typeof h&&""!=h&&(t.src=h)}this.updateShadersSource()}updateShadersSource(){if(this.shaders[0].id=null,this.shaders[1].id=null,this.id=null,""!=this.shaders[0].src&&""!=this.shaders[1].src){for(const t of this.shaders)if(t.id=this.rnd.gl.createShader(t.type),this.rnd.gl.shaderSource(t.id,t.src),this.rnd.gl.compileShader(t.id),!this.rnd.gl.getShaderParameter(t.id,this.rnd.gl.COMPILE_STATUS)){let i=this.rnd.gl.getShaderInfoLog(t.id);console.log(`Shader ${this.name}/${t.name} compile fail: ${i}`)}if(this.id=this.rnd.gl.createProgram(),this.shaders.forEach((t=>{null!=t.id&&this.rnd.gl.attachShader(this.id,t.id)})),this.rnd.gl.linkProgram(this.id),!this.rnd.gl.getProgramParameter(this.id,this.rnd.gl.LINK_STATUS)){let t=this.rnd.gl.getProgramInfoLog(this.id);console.log(`Shader program ${this.name} link fail: ${t}`)}this.updateShaderData()}}updateShaderData(){this.attrs={};const t=this.rnd.gl.getProgramParameter(this.id,this.rnd.gl.ACTIVE_ATTRIBUTES);for(let i=0;i<t;i++){const t=this.rnd.gl.getActiveAttrib(this.id,i);this.attrs[t.name]={name:t.name,type:t.type,size:t.size,loc:this.rnd.gl.getAttribLocation(this.id,t.name)}}this.uniforms={};const i=this.rnd.gl.getProgramParameter(this.id,this.rnd.gl.ACTIVE_UNIFORMS);for(let t=0;t<i;t++){const i=this.rnd.gl.getActiveUniform(this.id,t);this.uniforms[i.name]={name:i.name,type:i.type,size:i.size,loc:this.rnd.gl.getUniformLocation(this.id,i.name)}}this.uniformBlocks={};const s=this.rnd.gl.getProgramParameter(this.id,this.rnd.gl.ACTIVE_UNIFORM_BLOCKS);for(let t=0;t<s;t++){const i=this.rnd.gl.getActiveUniformBlockName(this.id,t),s=this.rnd.gl.getActiveUniformBlockIndex(this.id,i);this.uniformBlocks[i]={name:i,index:s,size:this.rnd.gl.getActiveUniformBlockParameter(this.id,idx,this.rnd.gl.UNIFORM_BLOCK_DATA_SIZE),bind:this.rnd.gl.getActiveUniformBlockParameter(this.id,idx,this.rnd.gl.UNIFORM_BLOCK_BINDING)}}}constructor(t,i){this._init(t,i)}apply(){null!=this.id&&this.rnd.gl.useProgram(this.id)}}function c(t){return t*(Math.PI/180)}class g{constructor(t){this.rnd=t,this.vertexes=[],this.matrix=h()}makePrim(t){let s=[],h=[],e=0;this.matrix=t;for(let t of this.vertexes){for(let s of t)h.push(m(s,i(0)));for(let i=2;i<t.length;i++)s.push(e+0),s.push(e+i-1),s.push(e+i);e+=t.length}return a(this.rnd,this.rnd.gl.TRIANGLES,h,s)}}class f extends g{constructor(t){super(t);const s=Math.sqrt(.75)/3,h=Math.sqrt(1-4*s*s),e=i(0,0,3*h/4),m=i(-.5,-s,-h/4),r=i(.5,-s,-h/4),a=i(0,2*s,-h/4);this.vertexes=[[m,a,e],[m,r,e],[r,a,e],[r,a,m]]}}class p extends g{constructor(t){super(t),this.vertexes=[[i(-.5,-.5,-.5),i(-.5,.5,-.5),i(.5,.5,-.5),i(.5,-.5,-.5)],[i(-.5,-.5,.5),i(-.5,.5,.5),i(.5,.5,.5),i(.5,-.5,.5)],[i(-.5,-.5,-.5),i(-.5,-.5,.5),i(-.5,.5,.5),i(-.5,.5,-.5)],[i(.5,-.5,-.5),i(.5,-.5,.5),i(.5,.5,.5),i(.5,.5,-.5)],[i(-.5,-.5,-.5),i(-.5,-.5,.5),i(.5,-.5,.5),i(.5,-.5,-.5)],[i(-.5,.5,-.5),i(-.5,.5,.5),i(.5,.5,.5),i(.5,.5,-.5)]]}}class T extends g{constructor(t){super(t);const s=.5;this.vertexes=[[i(0,0,s),i(-.5,s,0),i(-.5,-.5,0)],[i(0,0,s),i(-.5,-.5,0),i(s,-.5,0)],[i(0,0,s),i(s,-.5,0),i(s,s,0)],[i(0,0,s),i(s,s,0),i(-.5,s,0)],[i(0,0,-.5),i(-.5,s,0),i(-.5,-.5,0)],[i(0,0,-.5),i(-.5,-.5,0),i(s,-.5,0)],[i(0,0,-.5),i(s,-.5,0),i(s,s,0)],[i(0,0,-.5),i(s,s,0),i(-.5,s,0)]]}}class w extends g{constructor(t){super(t);const s=Math.cos(c(36))/2,h=Math.sin(c(36))/2,e=Math.cos(c(72))/2,m=Math.sin(c(72))/2,r=Math.sqrt(2*(s-h))/2,a=Math.sqrt(r*r/4+1)/2,n=i(0,0,-a),d=i(0,0,a),o=i(.5,0,-r),l=i(e,m,-r),u=i(-s,h,-r),g=i(-s,-h,-r),f=i(e,-m,-r),p=i(-.5,0,r),x=i(-e,m,r),y=i(s,h,r),T=i(s,-h,r),w=i(-e,-m,r),z=d.add(p.add(x)).divNum(3),b=d.add(x.add(y)).divNum(3),A=d.add(y.add(T)).divNum(3),v=d.add(T.add(w)).divNum(3),P=d.add(w.add(p)).divNum(3),M=o.add(y.add(l)).divNum(3),S=y.add(l.add(x)).divNum(3),E=l.add(x.add(u)).divNum(3),F=x.add(u.add(p)).divNum(3),C=u.add(p.add(g)).divNum(3),N=p.add(g.add(w)).divNum(3),I=g.add(w.add(f)).divNum(3),R=w.add(f.add(T)).divNum(3),_=f.add(T.add(o)).divNum(3),B=T.add(o.add(y)).divNum(3),j=n.add(o.add(l)).divNum(3),L=n.add(l.add(u)).divNum(3),U=n.add(u.add(g)).divNum(3),D=n.add(g.add(f)).divNum(3),V=n.add(f.add(o)).divNum(3);this.vertexes=[[z,b,A,v,P],[z,b,S,E,F],[b,A,B,M,S],[A,v,R,_,B],[v,P,N,I,R],[P,z,F,C,N],[j,L,E,S,M],[L,U,C,F,E],[U,D,I,N,C],[D,V,_,R,I],[V,j,M,B,_],[j,L,U,D,V]]}}class b extends g{constructor(t){super(t);const s=Math.cos(c(36))/2,h=Math.sin(c(36))/2,e=Math.cos(c(72))/2,m=Math.sin(c(72))/2,r=Math.sqrt(2*(s-h))/2,a=Math.sqrt(r*r/4+1)/2;this.vertexes=[[i(0,0,-a),i(.5,0,-r),i(e,m,-r)],[i(0,0,-a),i(e,m,-r),i(-s,h,-r)],[i(0,0,-a),i(-s,h,-r),i(-s,-h,-r)],[i(0,0,-a),i(-s,-h,-r),i(e,-m,-r)],[i(0,0,-a),i(e,-m,-r),i(.5,0,-r)],[i(.5,0,-r),i(s,h,r),i(e,m,-r)],[i(s,h,r),i(e,m,-r),i(-e,m,r)],[i(e,m,-r),i(-e,m,r),i(-s,h,-r)],[i(-e,m,r),i(-s,h,-r),i(-.5,0,r)],[i(-s,h,-r),i(-.5,0,r),i(-s,-h,-r)],[i(-.5,0,r),i(-s,-h,-r),i(-e,-m,r)],[i(-s,-h,-r),i(-e,-m,r),i(e,-m,-r)],[i(-e,-m,r),i(e,-m,-r),i(s,-h,r)],[i(e,-m,-r),i(s,-h,r),i(.5,0,-r)],[i(s,-h,r),i(.5,0,-r),i(s,h,r)],[i(0,0,a),i(-.5,0,r),i(-e,m,r)],[i(0,0,a),i(-e,m,r),i(s,h,r)],[i(0,0,a),i(s,h,r),i(s,-h,r)],[i(0,0,a),i(s,-h,r),i(-e,-m,r)],[i(0,0,a),i(-e,-m,r),i(-.5,0,r)]]}}const A=[document.getElementById("myCan"),document.getElementById("myCan2"),document.getElementById("myCan3"),document.getElementById("myCan4"),document.getElementById("myCan5")];window.addEventListener("load",(()=>{const t=o(A[0]);t.shader=t.shaderCreate("default");const s=t.primCreateTetrahedron(),e=()=>{let m=h().rotateX(30*t.timer.globalTime),r=h().rotateY(30*t.timer.globalTime),a=h().rotateZ(30*t.timer.globalTime),n=h().scale(i(1.8));t.render(),s.draw(n.mul(m.mul(r.mul(a)))),t.timer.response(),window.requestAnimationFrame(e)};e()})),window.addEventListener("load",(()=>{let t=o(A[1]);t.shader=t.shaderCreate("default");const i=t.primCreateCube(),s=()=>{let e=h().rotateX(30*t.timer.globalTime),m=h().rotateY(30*t.timer.globalTime),r=h().rotateZ(30*t.timer.globalTime);t.render(),i.draw(e.mul(m.mul(r))),t.timer.response(),window.requestAnimationFrame(s)};s()})),window.addEventListener("load",(()=>{let t=o(A[2]);t.shader=t.shaderCreate("default");const s=t.primCreateOctahedron(),e=()=>{let m=h().rotateX(30*t.timer.globalTime),r=h().rotateY(30*t.timer.globalTime),a=h().rotateZ(30*t.timer.globalTime),n=h().scale(i(1.5));t.render(),s.draw(n.mul(m.mul(r.mul(a)))),t.timer.response(),window.requestAnimationFrame(e)};e()})),window.addEventListener("load",(()=>{let t=o(A[3]);t.shader=t.shaderCreate("default");const s=t.primCreateDodecahedron(),e=()=>{let m=h().rotateX(30*t.timer.globalTime),r=h().rotateY(30*t.timer.globalTime),a=h().rotateZ(30*t.timer.globalTime),n=h().scale(i(2));t.render(),s.draw(n.mul(m.mul(r.mul(a)))),t.timer.response(),window.requestAnimationFrame(e)};e()})),window.addEventListener("load",(()=>{let t=o(A[4]);t.shader=t.shaderCreate("default");const s=t.primCreateIcosahedron(),e=()=>{let m=h().rotateX(30*t.timer.globalTime),r=h().rotateY(30*t.timer.globalTime),a=h().rotateZ(30*t.timer.globalTime),n=h().scale(i(1.5));t.render(),s.draw(n.mul(m.mul(r.mul(a)))),t.timer.response(),window.requestAnimationFrame(e)};e()}))}();
